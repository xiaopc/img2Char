<template>
  <div id="select-panel">
    <div class="picInput-outer">
      <picture-input 
        ref="pictureInput"
        margin="16" 
        accept="image/jpeg,image/png" 
        size="3" 
        button-class="btn"
        :custom-strings="{
          tap: '<small>ğŸ¾<br>è½»è§¦é€‰æ‹©å›¾ç‰‡<br>(æš‚ä¸æ”¯æŒåŠ¨å›¾)</small>',
          drag: '<small>ğŸ¾<br>æŠŠå›¾ç‰‡æ‹–è¿›æ¥<br>æˆ–è€…ç‚¹å‡»é€‰æ‹©<br>(æš‚ä¸æ”¯æŒåŠ¨å›¾)</small>',
          change: 'æ¢ä¸€å¼ '
        }"
        @change="onChange">
      </picture-input>      
    </div>
  </div>
</template>

<script>
import PictureInput from 'vue-picture-input'

export default {
  name: 'ImageSelect',
  components: {
    PictureInput
  },
  props: {
    settings: Object
  },
  methods: {
    onChange (image) {
      if (image) {
        this.$emit('setImage', image)
        this.$emit('gotoPage', 'Settings')
      } else {
        alert('ä½ çš„æµè§ˆå™¨ä¸èµ„ç“· FileReader APIï¼Œè¯·ä½¿ç”¨ç°ä»£æµè§ˆå™¨ã€‚')
      }
    }
  },
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
.picInput-outer {
  max-width: calc(80vh - 4rem);
  position: absolute;
  left: 0;
  right: 0;
  margin: auto; 
}

.control-group {
  padding: 0.5rem;
}
.control-label {
  padding: 1rem 1rem 1rem 0;
  min-width: 60pt;
  display: inline-block;
}

input {
  outline: none;
  border: none;
  border-bottom: 2px solid #ddd;
  font-size: 20pt;
  transition: 0.5s all;
}

input:focus {
  border-bottom: 2px solid #999;
}

@media (max-width: 750px) {
  input {
    max-width: 280px;
  }
}

</style>
